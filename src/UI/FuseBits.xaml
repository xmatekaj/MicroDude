<Window x:Class="MicroDude.UI.FuseBitsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Fuse Bit Programmer" 
        Height="450" 
        Width="900"
        WindowStartupLocation="CenterScreen"
        Icon="/MicroDude;component/Resources/Icon_Fuse.png"
        Background="{x:Static SystemColors.ControlBrush}">
    <Grid Margin="10">
        <TabControl>
            <TabItem Header="Presets">
                <StackPanel Margin="10">
                    <ComboBox x:Name="FuseSelector" 
                             Height="25"
                             Margin="0,5"
                             SelectionChanged="FuseSelector_SelectionChanged"
                             ItemsSource="{Binding AvailableFuses}"/>

                    <ComboBox x:Name="OptionSelector" 
                             Height="25"
                             Margin="0,5"
                             SelectionChanged="OptionSelector_SelectionChanged"
                             ItemsSource="{Binding SelectedFuseOptions}"
                             DisplayMemberPath="Caption"/>

                    <StackPanel Orientation="Horizontal" 
                              HorizontalAlignment="Right" 
                              Margin="0,10">
                        <Button x:Name="ReadButton"
                                Content="Read" 
                                Click="ReadFuses_Click"
                                Width="100"
                                Height="25"
                                Margin="0,0,10,0"/>
                        <Button x:Name="WriteButton"
                                Content="Write" 
                                Click="WriteFuses_Click"
                                Width="100"
                                Height="25"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>

            <TabItem Header="Manual">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Fuse Bit Sections in Horizontal Layout -->
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Low Fuse Section -->
                        <GroupBox Grid.Column="0" Header="Low Fuse Bits" Margin="5">
                            <StackPanel>
                                <!-- Bit Checkboxes -->
                                <StackPanel x:Name="LowFusePanel" Margin="10"/>

                                <!-- Value Entry -->
                                <DockPanel Margin="10,5">
                                    <TextBlock Text="Value (hex):" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <TextBox x:Name="LowFuseValue" Width="50" HorizontalAlignment="Left"
                                             MaxLength="2" TextChanged="LowFuseValue_TextChanged"/>
                                </DockPanel>

                                <!-- Control Buttons -->
                                <StackPanel Orientation="Horizontal" Margin="10,5">
                                    <Button Content="Read Low" 
                                            Click="ReadLowFuse_Click"
                                            Width="80"
                                            Height="25"
                                            Margin="0,0,10,0"/>
                                    <Button Content="Write Low" 
                                            Click="WriteLowFuse_Click"
                                            Width="80"
                                            Height="25"/>
                                </StackPanel>
                            </StackPanel>
                        </GroupBox>

                        <!-- High Fuse Section -->
                        <GroupBox Grid.Column="1" Header="High Fuse Bits" Margin="5">
                            <StackPanel>
                                <!-- Bit Checkboxes -->
                                <StackPanel x:Name="HighFusePanel" Margin="10"/>

                                <!-- Value Entry -->
                                <DockPanel Margin="10,5">
                                    <TextBlock Text="Value (hex):" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <TextBox x:Name="HighFuseValue" Width="50" HorizontalAlignment="Left"
                                             MaxLength="2" TextChanged="HighFuseValue_TextChanged"/>
                                </DockPanel>

                                <!-- Control Buttons -->
                                <StackPanel Orientation="Horizontal" Margin="10,5">
                                    <Button Content="Read High" 
                                            Click="ReadHighFuse_Click"
                                            Width="80"
                                            Height="25"
                                            Margin="0,0,10,0"/>
                                    <Button Content="Write High" 
                                            Click="WriteHighFuse_Click"
                                            Width="80"
                                            Height="25"/>
                                </StackPanel>
                            </StackPanel>
                        </GroupBox>

                        <!-- Extended Fuse Section -->
                        <GroupBox Grid.Column="2" Header="Extended Fuse Bits" Margin="5">
                            <StackPanel>
                                <!-- Bit Checkboxes -->
                                <StackPanel x:Name="ExtendedFusePanel" Margin="10"/>

                                <!-- Value Entry -->
                                <DockPanel Margin="10,5">
                                    <TextBlock Text="Value (hex):" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <TextBox x:Name="ExtendedFuseValue" Width="50" HorizontalAlignment="Left"
                                             MaxLength="2" TextChanged="ExtendedFuseValue_TextChanged"/>
                                </DockPanel>

                                <!-- Control Buttons -->
                                <StackPanel Orientation="Horizontal" Margin="10,5">
                                    <Button Content="Read Ext" 
                                            Click="ReadExtFuse_Click"
                                            Width="80"
                                            Height="25"
                                            Margin="0,0,10,0"/>
                                    <Button Content="Write Ext" 
                                            Click="WriteExtFuse_Click"
                                            Width="80"
                                            Height="25"/>
                                </StackPanel>
                            </StackPanel>
                        </GroupBox>
                    </Grid>

                    <!-- Global Buttons -->
                    <StackPanel Grid.Row="1" 
                              Orientation="Horizontal" 
                              Margin="10"
                              HorizontalAlignment="Right">
                        <Button Content="Read All" 
                                Click="ReadFuses_Click"
                                Width="100"
                                Height="25"
                                Margin="0,0,10,0"/>
                        <Button Content="Write All" 
                                Click="WriteFuses_Click"
                                Width="100"
                                Height="25"/>
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>